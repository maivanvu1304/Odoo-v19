<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>

        <record id="view_crm_lead_list_geega" model="ir.ui.view">
            <field name="name">crm.lead.list.geega</field>
            <field name="model">crm.lead</field>
            <field name="arch" type="xml">
                <list string="Original leads" multi_edit="1" sample="1" class="geega_crm_list" js_class="geega_list">
                    <field name="name" string="Lead Name" readonly="1"/>
                    <field name="partner_name" string="Company Name"/>
                    <field name="phone" string="Phone Number" widget="phone"/>
                    <field name="email_from" string="Email" widget="email"/>
                    <field name="source_lead" string="Source Lead"/>
                    <field name="intended_car" string="Intended Car"/>
                    <field name="intended_level" string="Intended Level"/>
                    <field name="follow_up_person" string="Follow-up Person" widget="many2one_avatar_user"/>
                    <field name="department" string="Department"/>
                    <field name="last_followup_date" string="Last Follow-up Date" widget="datetime"/>
                    <field name="next_contact_date" string="Next Contact Date" widget="datetime"/>
                    <field name="stage_id" column_invisible="True"/> </list>
            </field>
        </record>

        <record id="view_crm_lead_form_geega" model="ir.ui.view">
            <field name="name">crm.lead.form.geega</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.crm_lead_view_form"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='partner_name']" position="after">
                    <field name="source_lead"/>
                    <field name="intended_car"/>
                    <field name="intended_level"/>
                </xpath>
                
                <xpath expr="//field[@name='user_id']" position="after">
                    <field name="follow_up_person"/>
                    <field name="department"/>
                </xpath>
                
                <xpath expr="//group[@name='lead_priority']" position="after">
                    <group string="Follow-up Information">
                        <field name="last_followup_date"/>
                        <field name="next_contact_date"/>
                    </group>
                </xpath>
            </field>
        </record>

        <record id="view_crm_lead_search_geega" model="ir.ui.view">
            <field name="name">crm.lead.search.geega</field>
            <field name="model">crm.lead</field>
            <field name="inherit_id" ref="crm.view_crm_case_leads_filter"/>
            <field name="arch" type="xml">
                <!-- Add custom search fields after team_id -->
                <field name="team_id" position="after">
                    <field name="source_lead" string="Source Lead"/>
                    <field name="intended_car" string="Intended Car"/>
                </field>
                
                <!-- Add custom stage filters after "Unassigned" filter -->
                <filter name="unassigned_leads" position="after">
                    <separator/>
                    <filter string="New" name="filter_new" domain="[('stage_id.name','=','New')]"/>
                    <filter string="First Contact Established" name="filter_first_contact" 
                            domain="[('stage_id.name','=','First Contact Established')]"/>
                    <filter string="Qualified Lead" name="filter_qualified" 
                            domain="[('stage_id.name','=','Qualified Lead')]"/>
                </filter>
                
                <!-- Add custom group by options after "salesperson" filter -->
                <filter name="salesperson" position="after">
                    <filter string="Source Lead" name="group_source" context="{'group_by':'source_lead'}"/>
                    <filter string="Intended Level" name="group_level" context="{'group_by':'intended_level'}"/>
                    <filter string="Department" name="group_department" context="{'group_by':'department'}"/>
                    <filter string="Follow-up Person" name="group_followup" context="{'group_by':'follow_up_person'}"/>
                </filter>
            </field>
        </record>

        <record id="action_geega_crm_original_leads" model="ir.actions.act_window">
            <field name="name">Original leads</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">list,form,kanban,graph,pivot,calendar,activity</field>
            <field name="view_id" ref="view_crm_lead_list_geega"/>
            <field name="search_view_id" ref="view_crm_lead_search_geega"/>
            <field name="context">{
                'default_type': 'lead',
            }</field>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create a new lead
                </p>
                <p>
                    Use leads to capture potential customers before converting them to opportunities.
                </p>
            </field>
        </record>

        <record id="action_geega_crm_leads_mgmt" model="ir.actions.act_window">
            <field name="name">Leads Management</field>
            <field name="res_model">crm.lead</field>
            <field name="view_mode">kanban,list,form,graph,pivot,calendar,activity</field>
            <field name="context">{
                'default_type': 'lead',
            }</field>
        </record>

        

    </data>
</odoo>